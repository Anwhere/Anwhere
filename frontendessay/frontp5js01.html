<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="Anwhere">
  <meta name="keyword" content="Anwhere, Studio,Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
  <title>Anwhere Studio</title>

  <!-- Favicons -->
  <link href="../img/favicon.png" rel="icon">
  <link href="../img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Bootstrap core CSS -->
  <link href="../lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <!--external css-->
  <link href="../lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="../lib/gritter/css/jquery.gritter.css" />
  <!-- Custom styles for this template -->
  <link href="../css/style.css" rel="stylesheet">
  <link href="../css/style-responsive.css" rel="stylesheet">

  <!-- =======================================================
    Web work Name: Anwhere
    Template URL: https://
    Author: Anwhere.Jin
    License: https://
  ======================================================= -->
</head>

<body>
  <section id="container">
    <!-- **********************************************************************************************************************************************************
        TOP BAR CONTENT & NOTIFICATIONS
        *********************************************************************************************************************************************************** -->
    <!--header start-->
    <header class="header black-bg">
      <div class="sidebar-toggle-box">
        <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
      </div>
      <!--logo start-->
      <a href="../index.html" class="logo"><b><span>AN</span>WHERE</b></a>
      <!--logo end-->
      
      </div>
      <div class="top-menu">
        
      </div>
    </header>
    <!--header end-->
    <!-- **********************************************************************************************************************************************************
        MAIN SIDEBAR MENU
        *********************************************************************************************************************************************************** -->
    <!--sidebar start-->
    <aside>
      <div id="sidebar" class="nav-collapse ">
        <!-- sidebar menu start-->
        <ul class="sidebar-menu" id="nav-accordion">
          <p class="centered"><a href="#"><img src="../img/mainphoto.jpg" class="img-circle" width="80"></a></p>
          <h5 class="centered">Anwhere Jin</h5>
          <li class="mt">
            <a href="../index.html">
              <i class="fa fa-dashboard"></i>
              <span>首页</span>
              </a>
          </li>
          <li class="sub-menu">
            <a class="active" href="javascript:;">
              <i class="fa fa-desktop"></i>
              <span>任务Review</span>
              </a>
            <ul class="sub">
              <li><a href="../general.html">Visualization</a></li>
              <li><a href="../valuable.html">Valuable</a></li>
              <li class="active"><a href="../frontend.html">Frontend</a></li>
              <li><a href="../backend.html">Backend</a></li>
            </ul>
          </li>
          <li class="sub-menu">
            <a href="javascript:;">
              <i class="fa fa-leaf"></i>
              <span>事件Events</span>
              </a>
            <ul class="sub">
              <li><a href="#">Blank01</a></li>
              <li><a href="#">Blank02</a></li>
              <li><a href="#">Blank03</a></li>
              <li><a href="#">Blank04</a></li>
              <li><a href="#">Blank05</a></li>
              <li><a href="#">Blank06</a></li>
              <li><a href="#">Blank07</a></li>
            </ul>
          </li>
          <li class="sub-menu">
            <a href="javascript:;">
              <i class="fa fa-book"></i>
              <span>相关文档</span>
              </a>
            <ul class="sub">
              <li><a href="#">Blank01</a></li>
              <li><a href="#">Blank02</a></li>
              <li><a href="#">Blank03</a></li>
              <li><a href="#">Blank04</a></li>
              <li><a href="#">Blank05</a></li>
              <li><a href="#">Blank06</a></li>
              <li><a href="#">Blank07</a></li>
              <li><a href="#">Blank08</a></li>
              <li><a href="#">Blank09</a></li>
            </ul>
          </li>
          <li class="sub-menu">
            <a href="javascript:;">
              <i class="fa fa-star-half-o"></i>
              <span>介绍</span>
              </a>
            <ul class="sub">
              <li><a href="#">Blank01</a></li>
              <li><a href="#">Blank02</a></li>
              <li><a href="#">Blank03</a></li>
            </ul>
          </li>
          <li class="sub-menu">
            <a href="javascript:;">
              <i class="fa fa-envelope"></i>
              <span>联系我们</span>
              </a>
            <ul class="sub">
              <li><a href="../email.html">Email</a></li>
              <li><a href="#">Blank02</a></li>
              <li><a href="#">Blank03</a></li>
            </ul>
          </li>
        </ul>
        <!-- sidebar menu end-->
      </div>
    </aside>
    <!--sidebar end-->
    <!-- **********************************************************************************************************************************************************
        MAIN CONTENT
        *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
      <section class="wrapper">
      <div class="row content-blog">
          <div class="col-lg-10 col-lg-offset-1">
            <div class="row">
              <div class="col-md-6 mt">
                <img src="../img/frontend/frontp5js02.png" width="320">
                <h3>Access to Image from origin 'null' has been blocked by CORS policy 跨域问题<br>P5.js &amp; Frontend</h3>
                <hr>
                <h5>By Anwhere Jin. <span>Date issued : 12-21-2018.</span></h5>
                <p class="mt">processing在本地的运行效果十分良好，在网页上展示我们可以把它转换为P5的代码，通过js绘制画布，由于之前学习的时候并没有用到直接加载图片的情况，所以并没有预料到当我想要把飞线作画的例子扔到页面上带来的一点小小的麻烦，网页一直无法加载出来画面，而是显示‘Loading…’</p>
                <br><h4>· 01>>> 问题展示</h4>
                <p class="mt">
                  <p class="mmt">直接取控制台去查看报错信息</p>
                  <div class="centered">
                  <img src="../img/frontend/frontp5js03.png" width="320">
                  </div>
                  <p class="mmt">可以看到显示信息是图片无法正常加载，而我们本地是有相应的图片的，所以应该不是路径不对的问题。本地源码为：</p>
                  <pre>function preload() {
  imgs[1] = loadImage("test1.png");
}</pre>
                  <p class="mmt">控制台显示信息为：</p>
                  <code>Access to Image at 'file:///D:/myprokject/sketchProject/messDrawjs/test1.png' from origin 'null' has been blocked by CORS policy: Invalid response. Origin 'null' is therefore not allowed access.</code>
                  <p class="mmt">去查看了下相关错误的原因，是CORS的问题。</p>
                </p>
                <br><h4>· 02>>> 相关解释</h4>
                <p class="mt">
                  <p class="mmt">
                    You're running into a CORS error.<br>
                    Trying to access your file using the local file system doesn't work in your case.<br>
                    Origin is null because it's your local file system. Could you possibly host this png file?<br>
                    <span class="st"> Suggestion: </span><br>
                    Host these files to an AWS S3 bucket instead. Then you can use the http protocol rather than the file protocol. OR setup some http server on your local system and use http to your localhost to serve the files from if you want to keep everything local.<br>
                    <span class="st">More Reading:</span><br>
                    <a href="https://www.html5rocks.com/en/tutorials/cors/">How CORS Works</a>
                  </p>
                  <p class="mmt">I did that initially, but for security reasons, browser don't allow you to load files from your local disk. If you want to know more about it, google CORS, and go from there.</p>
                </p>

                
              </div>

            <div class="col-md-6 mt">
              <h4>· 03>>> 解决方式</h4> 
                <p class="mt">
                  <p class="mmt">P5.js的<span class="bgr"><a href="http://p5js.org/zh-Hans/reference/#/p5/loadImage">loadImage()</a> </span>或者Chrome并不允许直接从本地加载图片，所以我们得绕一下</p>
                  <p class="mmt">a. 禁用Chrome的web-security</p>
                  <p class="mmt">b. Your image needs to be loaded via a web server, so accessed via a proper http URL.</p>

                 
                </p>
                <br>
                <br>
                <hr>
                <div class="centered">
                  <img src="../img/visual/messydraw05.gif" class="img-circle" width="80">
                  <p class="centered">谢谢！</p>
                </div>
              </div>

            </div>
          </div>
        </div>

      </section>
      <!-- /wrapper -->
    </section>
    <!-- /MAIN CONTENT -->
    <!--main content end-->

    <!--footer start-->
    <footer class="site-footer">
      <div class="text-center">
        <p style="font-size: 10px;">
          &copy; Copyrights <strong>Anwhere </strong>. All Rights Reserved
        </p>
        <div class="credits" style="font-size: 11px;">
          <!--
            You are NOT allowed to delete the credit link 
          -->
          Powered by <a href="https://github.com/">Github</a>
        </div>
        <a href="../index.html#" class="go-top">
          <i class="fa fa-angle-up"></i>
          </a>
      </div>
    </footer>
    <!--footer end-->
  </section>
  <!-- js placed at the end of the document so the pages load faster -->
  <script src="../lib/jquery/jquery.min.js"></script>
  
  <script src="../lib/bootstrap/js/bootstrap.min.js"></script>
  <script class="include" type="text/javascript" src="../lib/jquery.dcjqaccordion.2.7.js"></script>
  <script src="../lib/jquery.scrollTo.min.js"></script>
  <script src="../lib/jquery.nicescroll.js" type="text/javascript"></script>
  <!--common script for all pages-->
  <script src="../lib/common-scripts.js"></script>
  <!--script for this page-->
  <script type="text/javascript" src=".../lib/gritter/js/jquery.gritter.js"></script>
  <script type="text/javascript" src="../lib/gritter-conf.js"></script>
</body>

</html>
